<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="These instructions are for a Windows host machine. An article here gives instructions for Mac OS X, but are unlikely to be very different. This assumes you&#39;ve already downloaded and installed...">
        <meta name="keywords" content="linux, ubuntu, virtual machine, virtualbox, vm">
        <link rel="icon" href="https://0x7df.github.io/favicon.ico">

        <title>Creating a new Ubuntu virtual machine in Oracle VirtualBox - 0x7df</title>

        <!-- Stylesheets -->
        <link href="https://0x7df.github.io/theme/css/all.min.css" rel="stylesheet">
        <!-- /Stylesheets -->

        <!-- RSS Feeds -->
        <link href="https://0x7df.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="0x7df Full Atom Feed" />
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->



    </head>

    <body>

        <!-- Header -->
    <div class="header-container gradient">

            <!-- Static navbar -->
            <div class="container">
                <div class="header-nav">
                    <div class="header-logo">
                        <a class="pull-left" href="https://0x7df.github.io/"><img class="mr20" src="https://0x7df.github.io/images/0x7df_60x60.png" alt="logo">0x7df</a>
                    </div>
                    <div class="nav pull-right">
                                <a href="https://0x7df.github.io/">Blog Home</a>
                                <a href="http://0x7df.io">Site Home</a>
                                <a href="https://0x7df.github.io/categories.html">Categories</a>
                    </div>
                </div>
            </div>
            <!-- /Static navbar -->

            <!-- Header -->
    <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <h1 class="header-title">Creating a new Ubuntu virtual machine in Oracle VirtualBox</h1>
                      <p class="header-date">By <a href="https://0x7df.github.io/author/0x7df.html">0x7df</a>, Sun 26 April 2015, in category <a href="https://0x7df.github.io/category/programming.html">Programming</a></p>
                      <div class="header-underline"></div>
                      <div class="clearfix"></div>
                      <p class="pull-right header-tags">
                          <span class="glyphicon glyphicon-tags mr5" aria-hidden="true"></span>
<a href="https://0x7df.github.io/tag/linux.html">linux</a>, <a href="https://0x7df.github.io/tag/ubuntu.html">ubuntu</a>, <a href="https://0x7df.github.io/tag/virtual-machine.html">virtual machine</a>, <a href="https://0x7df.github.io/tag/virtualbox.html">virtualbox</a>, <a href="https://0x7df.github.io/tag/vm.html">vm</a>                      </p>
                  </div>
              </div>
        </div>
    </div>
    <!-- /Header -->
            <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <p>These instructions are for a Windows host machine. An article
<a href="http://osxdaily.com/2012/03/27/install-run-ubuntu-linux-virtualbox/">here</a>
gives instructions for Mac OS X, but are unlikely to be very different. This
assumes you've already
<a href="https://www.virtualbox.org/wiki/Downloads">downloaded</a> and
<a href="https://www.virtualbox.org/manual/ch02.html">installed</a> VirtualBox.</p>
<h2>Create the VM</h2>
<ol>
<li>Open the Oracle VM VirtualBox Manager. This brings up the window
    shown in Figure 1.
    <p>
    [caption id="attachment_474" align="alignnone"
    width="276"]<img alt="Figure 1. Oracle VirtualBox VM Manager
    window." src="https://0x7df.github.io/images/01_oracle_virtualbox_manager.png?w=276">
    Figure 1. Oracle VirtualBox VM Manager window.[/caption]</li>
<li>Click "New" in the top-left corner. This brings up the "Create
    Virtual Machine" dialogue box, shown in Figure 2.</li>
<li>Give the system a descriptive name, and select "Linux" from the
    "Type" drop-down menu, and then "Ubuntu (64 bit)" from the "Version"
    drop-down menu. (Obviously you can choose whatever you like at this
    point, I default to Ubuntu.) Click "Next".
    <p>
    [caption id="attachment_475" align="alignnone"
    width="300"]<a href="https://0x7df.files.wordpress.com/2015/04/02_create_vm_dialogue.png"><img alt="Figure 2. Create Virtual Machine dialogue
    box." src="https://0x7df.files.wordpress.com/2015/04/02_create_vm_dialogue.png?w=300"></a>
    Figure 2. Create Virtual Machine dialogue box.[/caption]</li>
<li>The next  few dialogue boxes allow you to select how much memory you
    want, decide whether or not to create a virtual hard drive or not
    (or use an existing one), and assuming you do, define its properties
    (file format, whether or not to dynamically allocate storage, size
    (or maximum size), and location). Assuming you want to keep the
    defaults for all these, click "Next" or "Create" until you get to
    the end.</li>
<li>You've finished the first phase and have been returned to the
    VirtualBox Manager window, and you should see the system you've just
    created in the list of available VMs on the left-hand side. If you
    click on it once, the details of the system will be shown in the
    right-hand pane. To launch it, either double-click, or click "Start"
    up at the top when the VM is selected.</li>
</ol>
<h2>Install the OS</h2>
<ol>
<li>
<p>[caption id="attachment_476" align="alignright"
    width="300"]<a href="https://0x7df.files.wordpress.com/2015/04/03_select_start-up_disk_dialogue.png"><img alt="Figure 3. Select start-up disk dialogue
    box." src="https://0x7df.files.wordpress.com/2015/04/03_select_start-up_disk_dialogue.png?w=300"></a>
    Figure 3. Select start-up disk dialogue box.[/caption]</p>
<p><p>
The next step is to install the operating system. A "Select start-up
disk" dialogue box comes up, with a drop-down menu. The default
selection is "Host drive 'D:'". Rather than use a DVD installation
disk however, I've previously downloaded an ISO disk image file. I
can select this directly from the drop-down menu (see Figure 3)
because I've used it before, so VirtualBox remembers its location.
If this isn't the case for you, you can click the folder icon to the
right of the drop-down menu, which opens up a file browser and
allows you to navigate to wherever you stored the downloaded ISO
file (look <a href="http://www.ubuntu.com/download/desktop">here</a> for a
download). Click "Start", and the VM will start to boot from the
ISO.</p>
</li>
<li>
<p>From here on the instructions are as to install Ubuntu from disk.
    Click through the defaults and self-explanatory settings, until the
    installation begins proper. This takes a while, and when it's
    complete you'll be prompted to restart.</p>
</li>
</ol>
<h2>Install Guest Additions</h2>
<ol>
<li>When the restart has completed, you have working VM. However,
    there's something obviously wrong with the desktop. When you re-size
    the VM window, the desktop doesn't scale with it but remains a fixed
    size, which is way too small. This is because the resolution is
    fixed, and having the desktop size scale with the window size
    essentially means changing the VM screen resolution. To do this you
    need to install additional software on the VM, called the Guest
    Additions. The next stage is to install the Guest Additions.</li>
<li>
<p>First, the Linux VM needs Dynamic Kernel Module Support (DKMS) to be
    installed. Open a terminal on the VM and run:</p>
<p>[code lang="bash"]sudo apt-get install dkms[/code]</p>
<p><p>
This allows it to build external module kernels.</p>
</li>
<li>
<p>Select, from the VM's "Devices" menu, "Insert Guest Additions CD
    image...". This will open File Manager showing the contents of the
    CD, and the path, which will be something like
    "/media/username/VBOXADDITIONS_4.3.26_98988/".</p>
</li>
<li>
<p>Return to the terminal, cd into the Guest Additions directory, then
    run:</p>
<p>[code lang="bash"]sudo sh ./VBoxLinuxAdditions.run[/code]</p>
</li>
<li>
<p>Restart the VM. You're done.</p>
</li>
</ol>
<h2>Initial software stack</h2>
<p>While I try to have a VM for each project I'm working on, I start each
one with a few bits and pieces that I expect to find useful on most
projects. To make this as quick as possible I have <a href="https://github.com/0x7df/mkvm">a script on
GitHub</a> that performs the installation
for me. To use this:</p>
<ol>
<li>
<p>Install git:</p>
<p>[code lang="bash"] sudo apt-get install git [/code]</p>
</li>
<li>
<p>Clone the repository:</p>
<p>[code lang="bash"] git clone https://github.com/0x7df/mkvm.git
[/code]</p>
</li>
<li>
<p>Run the script:</p>
<p>[code lang="bash"] cd mkvm ; ./mkvm.sh [/code]</p>
</li>
</ol>
<p>You can see the software that gets installed from the listing below:</p>
<p>[code lang="bash"]</p>
<p># mkvm - Make virtual machine<br>
# This script configures an Ubuntu virtual machine how I like it</p>
<p>sudo apt-get -y update               # Must be done before upgrade<br>
sudo apt-get -y dist-upgrade         # Does upgrade with intelligent
dependency-handling</p>
<p>sudo apt-get -y install dkms         # For installing VirtualBox Linux
Guest Additions (https://www.virtualbox.org/manual/ch04.html)</p>
<p>sudo apt-get -y install git<br>
sudo apt-get -y install nedit<br>
sudo apt-get -y install python-numpy # Contains, amongst other things,
f2py<br>
sudo apt-get -y install python-dev   # For Python.h; required by f2py<br>
sudo apt-get -y install gfortran<br>
sudo apt-get -y install python-pip<br>
sudo apt-get -y install python-matplotlib<br>
sudo apt-get -y install okular<br>
sudo apt-get -y upgrade graphviz<br>
sudo apt-get -y install texlive<br>
sudo apt-get -y install doxygen</p>
<p>sudo pip install robotframework<br>
sudo pip install prospector[with_frosted]<br>
sudo pip install prospector[with_pyroma]<br>
sudo pip install prospector[with_vulture]</p>
<p>sudo add-apt-repository ppa:staticfloat/juliareleases<br>
sudo add-apt-repository ppa:staticfloat/julia-deps<br>
sudo apt-get -y install julia</p>
<p># python-scipy<br>
# matplotlib</p>
<p># If Java JDK is required, determine the path:<br>
#   &gt; update-alternatives --config java<br>
# Set JAVA_HOME=/usr/bin/java (or wherever) in /etc/environment,
which is the preferred location for JAVA_HOME or any system variable.</p>
<p>echo "<br>
# Now install the Linux Guest Additions for VirtualBox. Go to the<br>
# \"Devices\" menu of VirtualBox when the VM is running (make sure
it is not in<br>
# stretch mode or the menu bar will not be visible); select \"Insert
Guest<br>
# Additions CD image...\"; then run VBoxLinuxAdditions.run with
administrator<br>
# privileges. Re-boot the VM; after this the VM desktop should resize
with the<br>
# VirtualBox window, rather than being a fixed (small) size.<br>
"<br>
[/code]</p>
<h2>Shared clipboard</h2>
<p>One extra useful thing to do is enable the shared clipboard, which
allows copy-and-paste from the host to the guest, vice versa, or both.
Make sure the VM is shut down, select it in the VirtualBox Manager
window, go to "Settings", "General", "Advanced" and select from the
"Shared Clipboard" drop-down. Detailed descriptions with screen shots
are
<a href="http://www.howtogeek.com/187535/how-to-copy-and-paste-between-a-virtualbox-host-machine-and-a-guest-machine">here</a>.</p>


        
    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Sitemap</div>
                        <ul class="list-unstyled">
                            <li><a href="https://0x7df.github.io/archives.html">Archives</a></li>
                            <li><a href="https://0x7df.github.io/tags.html">Tags</a></li>
                            <li><a href="https://0x7df.github.io/authors.html">Authors</a></li>
                            <li><a href="https://0x7df.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">Atom Feed</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Social</div>
                        <ul class="list-unstyled">
                            <li><a href="https://twitter.com/@0x7df" target="_blank">Twitter</a></li>
                            <li><a href="https://github.com/0x7df" target="_blank">GitHub</a></li>
                            <li><a href="https://www.facebook.com/0x7df" target="_blank">Facebook</a></li>
                            <li><a href="https://stackoverflow.com/users/4802778" target="_blank">StackOverflow</a></li>
                            <li><a href="http://www.freecodecamp.com/0x7df" target="_blank">FreeCodeCamp</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Links</div>
                        <ul class="list-unstyled">
                            <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
                            <li><a href="http://python.org/" target="_blank">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
                            <li><a href="https://github.com/barrysteyn/pelican_plugin-render_math" target="_blank">Maths plugin</a></li>
                            <li><a href="https://github.com/molivier/nest" target="_blank">Nest theme</a></li>
                            <li><a href="" target="_blank"></a></li>
                            <li><a href="" target="_blank"></a></li>
                            <li><a href="" target="_blank"></a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
                            <small><em>Theme and code by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small>&copy; 0x7df 2015</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>