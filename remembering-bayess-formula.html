<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="It&#39;s probably just me, but I could never remember Bayes&#39;s formula: $$ P(A|B) = \frac{P(B|A) P(A)}{P(B)} $$ as-is. I don&#39;t use it very often, so I didn&#39;t have it at my fingertips. However, I found...">
        <meta name="keywords" content="bayes, mathematics, probabililty, statistics">
        <link rel="icon" href="http://0x7df.github.io/favicon.ico">

        <title>Remembering Bayes's formula - 0x7df</title>

        <!-- Stylesheets -->
        <link href="http://0x7df.github.io/theme/css/all.min.css" rel="stylesheet">
        <!-- /Stylesheets -->

        <!-- RSS Feeds -->
        <link href="http://0x7df.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="0x7df Full Atom Feed" />
        <link href="http://0x7df.github.io/feeds/statistics.atom.xml" type="application/atom+xml" rel="alternate" title="0x7df Categories Atom Feed" />
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->



    </head>

    <body>

        <!-- Header -->
    <div class="header-container gradient">

            <!-- Static navbar -->
            <div class="container">
                <div class="header-nav">
                    <div class="header-logo">
                        <a class="pull-left" href="http://0x7df.github.io/"><img class="mr20" src="http://0x7df.github.io/images/0x7df_60x60.png" alt="logo">0x7df</a>
                    </div>
                    <div class="nav pull-right">
                                <a href="http://0x7df.github.io/">Blog Home</a>
                                <a href="http://0x7df.io">Site Home</a>
                                <a href="http://0x7df.github.io/categories.html">Categories</a>
                    </div>
                </div>
            </div>
            <!-- /Static navbar -->

            <!-- Header -->
    <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <h1 class="header-title">Remembering Bayes's formula</h1>
                      <p class="header-date">By <a href="http://0x7df.github.io/author/0x7df.html">0x7df</a>, Sat 03 October 2015, modified Sat 03 October 2015, in category <a href="http://0x7df.github.io/category/statistics.html">Statistics</a></p>
                      <div class="header-underline"></div>
                      <div class="clearfix"></div>
                      <p class="pull-right header-tags">
                          <span class="glyphicon glyphicon-tags mr5" aria-hidden="true"></span>
<a href="http://0x7df.github.io/tag/bayes.html">bayes</a>, <a href="http://0x7df.github.io/tag/mathematics.html">mathematics</a>, <a href="http://0x7df.github.io/tag/probabililty.html">probabililty</a>, <a href="http://0x7df.github.io/tag/statistics.html">statistics</a>                      </p>
                  </div>
              </div>
        </div>
    </div>
    <!-- /Header -->
            <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <p>It's probably just me, but I could never remember Bayes's formula:</p>
<div class="math">$$ P(A|B) = \frac{P(B|A) P(A)}{P(B)} $$</div>
<p>as-is. I don't use it very often, so I didn't have it at my fingertips.
However, I found it easy to remember:</p>
<div class="math">$$ P(A,B) = P(A|B) P(B) $$</div>
<p>which is the more general formula that says that the probability of <span class="math">\(A\)</span> <em>and</em>
<span class="math">\(B\)</span> is the probability of <span class="math">\(A\)</span> given <span class="math">\(B\)</span> multiplied by the probability of just <span class="math">\(B\)</span>.</p>
<p>This sticks. So:</p>
<div class="math">$$ P(A,B) = P(A|B) P(B) $$</div>
<div class="math">$$ P(A,B) = P(B|A) P(A) $$</div>
<p>Therefore:</p>
<div class="math">$$ P(A|B)P(B) = P(B|A)P(A) $$</div>
<p>and:</p>
<div class="math">$$ P(A|B) = \frac{P(B|A)P(A)}{P(B)} $$</div>
<p>which is Bayes's formula.</p>
<p>The other trick I use to help remember what it all means is, once I've got the
formula, not to use <span class="math">\(A\)</span> and <span class="math">\(B\)</span>
as the symbols representing events, but instead to use <span class="math">\(C\)</span> and <span class="math">\(E\)</span> for "cause"
and "effect":</p>
<div class="math">$$ P(C|E) = \frac{P(E|C)P(C)}{P(E)} $$</div>
<p>You could use <span class="math">\(T\)</span> and <span class="math">\(O\)</span>, for "theory" and "observation", or whatever works
for you.</p>
<p>Then it's easier to know, given some situation, which numbers to put where. To
illustrate this, we'll use a 
classic example from <a href="https://faculty.washington.edu/jmiyamot/p548/eddydm%20prob%20reas%20i%20clin%20medicine.pdf">Eddy, D. M. (1982), <em>Probabilistic reasoning in
clinical medicine: problems and opportunities</em></a>, in <a href="https://books.google.co.uk/books?id=MScNAAAAQBAJ">Kahneman <em>et al.</em>
(Eds.),
<em>Judgement under uncertainty: heuristics and biases</em>, Cambridge University
Press</a>. </p>
<p>In this example, the following problem concerning diagnosing breast cancer
using a mammogram is set:</p>
<blockquote>
<p>Suppose a physician has had experience with a number of women who, in all
important aspects... are similar to this particular patient. And suppose the
physician knows from this experience that the frequency of cancer in this
group is, say, 1 out of 100... Now let the physician order a mammogram and
receive a report that... the lesion is malignant.</p>
</blockquote>
<p>Values of 80% for true positives and 10% for false positives are reported for
this particular kind of diagnostic test (or thereabouts).</p>
<p>Now we can distinguish between cause and effect; we let "the patient has
cancer" be the cause, <span class="math">\(C\)</span>, and "the test is positive" be the effect, <span class="math">\(E\)</span>.
The question posed is what is the probability that the patient has cancer given
that the test is reported as positive: i.e. what is <span class="math">\(P(C|E)\)</span>. Recall that:</p>
<div class="math">$$ P(C|E) = \frac{P(E|C)P(C)}{P(E)} $$</div>
<p>We have to insert numbers in for the other values, to solve the problem. The
first is <span class="math">\(P(E|C)\)</span>: the probability of the effect (a positive test) given that
the cause is true (the patient has cancer). This is simply the true positive
rate of the test, 0.8. Next, <span class="math">\(P(C)\)</span> is the probability that the patient has
cancer; i.e. the base rate for the reference group. The doctor has already
judged this to be 0.01 (1 in 100 for women similar to this one in all important
aspects). The final number we need is <span class="math">\(P(E)\)</span>; i.e. the probability of this
effect occurring. This isn't a conditional probability, but the probability
irrespective of the cause. We can work this out by summing the conditional
probabilities of the effect over all possible causes.</p>
<p>Generally then:</p>
<div class="math">$$ P(E) = \sum_c P(E|c) P(c) $$</div>
<p>where we have used the symbol <span class="math">\(c\)</span> to represent causes. When <span class="math">\(c = C\)</span>, the cause
is that the patient has cancer; all possible <span class="math">\(c \ne C\)</span> represent other causes.
In this case we don't have to itemise all the possibilites, because no matter
how many other reasons there are for the test coming up true, they are
accounted for in the false positive rate.</p>
<p>Hence:</p>
<div class="math">$$ P(E) = P(E|c{=}C) P(c{=}C) + P(E|c{\ne}C) P(c{\ne}C) $$</div>
<p>The first two quantities on the right hand side have been identified already:
0.8 and 0.01. The probability of a positive test arising when no cancer is
present is 0.1 (false positive rate of 10%), and the probability of no cancer
is simply 1 - 0.01 = 0.99. Hence, and finally:</p>
<div class="math">$$ P(C|E) = \frac{(0.8)(0.01)}{(0.8)(0.01) + (0.1)(0.99)} $$</div>
<p>which gives an answer of abut 0.075, or 7.5% probability that the patient
actually has cancer given a positive test. The main reason this is so
surprisingly low is
the low relative incidence of cancer in the first place. If the rate of cancer
in this group, the formula would be:</p>
<div class="math">$$ P(C|E) = \frac{(0.8)(0.5)}{(0.8)(0.5) + (0.1)(0.5)} $$</div>
<p>giving nearly a 90% chance of the patient having cancer, given exactly the same
test. This illustrates a key point - the usefulness of a test doesn't
depend on only the intrinsic properties of the test, like its accuracy (true
positive rate) and its false alarm rate, but also on how common the phenomenon
being tested for is. Two tests with the same accuracy and false alarm rate,
that test for, say, lung cancer and asthma, cannot be treated with the same
degree of confidence given the different underlying prevalences of those two
conditions. Interestingly, this also means the same test for the same disease
might need to be treated with differing confidence in different
populations; cystic fibrosis is much commoner in European countries than in
Asia, so doctors in those locations would have different levels of confidence
in the test.</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>


        
    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Sitemap</div>
                        <ul class="list-unstyled">
                            <li><a href="http://0x7df.github.io/archives.html">Archives</a></li>
                            <li><a href="http://0x7df.github.io/tags.html">Tags</a></li>
                            <li><a href="http://0x7df.github.io/authors.html">Authors</a></li>
                            <li><a href="http://0x7df.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">Atom Feed</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Social</div>
                        <ul class="list-unstyled">
                            <li><a href="https://twitter.com/@0x7df" target="_blank">Twitter</a></li>
                            <li><a href="https://github.com/0x7df" target="_blank">GitHub</a></li>
                            <li><a href="https://www.facebook.com/0x7df" target="_blank">Facebook</a></li>
                            <li><a href="https://stackoverflow.com/users/4802778" target="_blank">StackOverflow</a></li>
                            <li><a href="http://www.freecodecamp.com/0x7df" target="_blank">FreeCodeCamp</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Links</div>
                        <ul class="list-unstyled">
                            <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
                            <li><a href="http://python.org/" target="_blank">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
                            <li><a href="https://github.com/barrysteyn/pelican_plugin-render_math" target="_blank">Maths plugin</a></li>
                            <li><a href="https://github.com/molivier/nest" target="_blank">Nest theme</a></li>
                            <li><a href="" target="_blank"></a></li>
                            <li><a href="" target="_blank"></a></li>
                            <li><a href="" target="_blank"></a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
                            <small><em>Theme and code by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small>&copy; 0x7df 2015</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>